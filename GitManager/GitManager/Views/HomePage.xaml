<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GitManager.Views.HomePage"
             xmlns:viewModels="clr-namespace:GitManager.ViewModels"
             xmlns:models="clr-namespace:GitManager.Models;assembly=GitManager.Models"
             x:DataType="viewModels:HomeViewModel"
             Title="HomePage">

    <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, *, Auto">

        <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto" Padding="5" ColumnSpacing="5">
            <Image Grid.RowSpan="2" HeightRequest="40" Source="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/2048px-Octicons-mark-github.svg.png"/>
            <Label Grid.Column="1" Text="{Binding ActiveGitConfiguration.Name}"/>
            <Label Grid.Column="1" Grid.Row="1" Text="{Binding ActiveGitConfiguration.Email}"/>
        </Grid>


        <CollectionView
            x:Name="ListConfigurations"
            SelectionMode="Single"
            ItemsSource="{Binding GitConfigurations}"
            Grid.Row="1" SelectedItem="{Binding SelectedGitConfiguration}">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="models:GitConfiguration">
                    <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto" Padding="5" ColumnSpacing="5">

                        <Image Grid.RowSpan="2" HeightRequest="40" Source="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/2048px-Octicons-mark-github.svg.png"/>
                        <Label Grid.Column="1" Text="{Binding Name}"/>
                        <Label Grid.Column="1" Grid.Row="1" Text="{Binding Email}"/>

                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer />
                        </Grid.GestureRecognizers>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <StackLayout Grid.Row="2">
            <Entry Placeholder="Enter your git name" Text="{Binding NewConfiguration.Name}"/>
            <Entry Placeholder="Enter your git email" Text="{Binding NewConfiguration.Email}"/>
            <Button Text="Save this configuration" Command="{Binding SaveNewConfigurationCommand}"/>
        </StackLayout>

    </Grid>
</ContentPage>
